# Linux设备驱动开发

*设备驱动最通俗的解释就是"驱使硬件设备行动"。驱动与底层硬件直接打交道，按照硬件设备的具体工作方式，读写设备的寄存器，完成设备的轮询、中断处理、DMA通信，进行物理内存向虚拟内存的映射等，最终让通信设备能收发数据，让显示设备能显示文字和画面，让存储设备能记录文件和数据。*

## 内核态和用户态

>内核态与用户态是操作系统的两种运行级别，cpu提供Ring0-Ring3三种级别的运行模式。Ring0级别最高，Ring3最低。
>
>**CPU是在两种不同的模式下运行的:**
>
>Kernel Mode（内核态），在内核模式下（执行内核空间的代码），具有ring0保护级别，代码具有对硬件的所有控制权限。可以执行所有CPU指令，可以访问任意地址的内存。内核模式是为操作系统最底层，最可信的函数服务的。在内核模式下的任何异常都是灾难性的，将会导致整台机器停机。
>
>User Mode（用户态），在用户模式下（执行用户空间的代码），具有ring3保护级别，代码没有对硬件的直接控制权限，也不能直接访问地址的内存。它们只能访问映射其地址空间的页表项中规定的在用户态下可访问页面的虚拟地址。程序是通过调用系统接口(System Call APIs)来达到访问硬件和内存。在这种保护模式下，即时程序发生崩溃也是可以恢复的。在你的电脑上大部分程序都是在用户模式下运行的。

